(this.webpackJsonp=this.webpackJsonp||[]).push([[407,122],{"8p9U":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("EWC9");var r=n("cm1E");function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class i{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{instance:t}=e,n=o(e,["instance"]);if(t)Object.assign(t,n);else if(Object.entries(n).length)throw new Error(r.c)}}},DNyI:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));n("jaBk");var r=n("3a3M"),o=n.n(r),i=n("2ibD"),s=n("XRO8"),a=n("/lV4");const c=Object(a.a)("An error occurred while rendering the editor"),l=Object(a.a)("An error occurred previewing the blob");n("pBsb");var d=n("qPgm"),u=n("udiD"),p=n("BaXK");class h{constructor(e){this.mediator=e,this.$dropdown=null,this.$wrapper=null}init(){const e=this.config;this.$dropdown=o()(e.dropdown),this.$wrapper=o()(e.wrapper),this.$dropdownIcon=this.$wrapper.find(".dropdown-menu-toggle-icon"),this.$loadingIcon=o()('<div class="gl-spinner gl-spinner-orange gl-spinner-sm gl-absolute gl-top-3 gl-right-3 gl-display-none"></div>').insertAfter(this.$dropdownIcon),this.$dropdownToggleText=this.$wrapper.find(".dropdown-toggle-text"),this.initDropdown()}show(){null===this.$dropdown&&this.init(),this.$wrapper.removeClass("hidden")}hide(){null!==this.$dropdown&&this.$wrapper.addClass("hidden")}isHidden(){return this.$wrapper.hasClass("hidden")}getToggleText(){return this.$dropdownToggleText.text()}setToggleText(e){this.$dropdownToggleText.text(e)}renderLoading(){this.$loadingIcon.removeClass("gl-display-none"),this.$dropdownIcon.addClass("gl-display-none")}renderLoaded(){this.$loadingIcon.addClass("gl-display-none"),this.$dropdownIcon.removeClass("gl-display-none")}reportSelection(e){const{query:t,e:n,data:r}=e;return n.preventDefault(),this.mediator.selectTemplateFile(this,t,r)}reportSelectionName(e){const t=e;t.query=e.selectedObj.name,this.reportSelection(t)}}var f=n("m/7A");class g extends h{constructor(e){let{mediator:t,dropdownData:n}=e;super(t),this.mediator=t,this.config={dropdown:".js-template-type-selector",wrapper:".js-template-type-selector-wrap",dropdownData:n}}initDropdown(){var e=this;Object(f.a)(this.$dropdown,{data:this.config.dropdownData,filterable:!1,selectable:!0,clicked:function(t){return e.mediator.selectTemplateTypeOptions(t)},text:function(e){return e.name}})}}class m extends h{constructor(e){let{mediator:t}=e;super(t),this.config={key:"gitlab-ci-yaml",name:".gitlab-ci.yml",pattern:/(.gitlab-ci.yml)/,type:"gitlab_ci_ymls",dropdown:".js-gitlab-ci-yml-selector",wrapper:".js-gitlab-ci-yml-selector-wrap"}}initDropdown(){var e=this;Object(f.a)(this.$dropdown,{data:this.$dropdown.data("data"),filterable:!0,selectable:!0,search:{fields:["name"]},clicked:function(t){return e.reportSelectionName(t)},text:function(e){return e.name}})}}class w extends h{constructor(e){let{mediator:t}=e;super(t),this.config={key:"dockerfile",name:Object(a.a)("Dockerfile"),pattern:/(Dockerfile)/,type:"dockerfiles",dropdown:".js-dockerfile-selector",wrapper:".js-dockerfile-selector-wrap"}}initDropdown(){var e=this;Object(f.a)(this.$dropdown,{data:this.$dropdown.data("data"),filterable:!0,selectable:!0,search:{fields:["name"]},clicked:function(t){return e.reportSelectionName(t)},text:function(e){return e.name}})}}class b extends h{constructor(e){let{mediator:t}=e;super(t),this.config={key:"gitignore",name:".gitignore",pattern:/(.gitignore)/,type:"gitignores",dropdown:".js-gitignore-selector",wrapper:".js-gitignore-selector-wrap"}}initDropdown(){var e=this;Object(f.a)(this.$dropdown,{data:this.$dropdown.data("data"),filterable:!0,selectable:!0,search:{fields:["name"]},clicked:function(t){return e.reportSelectionName(t)},text:function(e){return e.name}})}}class y extends h{constructor(e){let{mediator:t}=e;super(t),this.config={key:"license",name:"LICENSE",pattern:/^(.+\/)?(licen[sc]e|copying)($|\.)/i,type:"licenses",dropdown:".js-license-selector",wrapper:".js-license-selector-wrap"}}initDropdown(){var e=this;Object(f.a)(this.$dropdown,{data:this.$dropdown.data("data"),filterable:!0,selectable:!0,search:{fields:["name"]},clicked:function(t){const{e:n}=t,r=t.$el,o=t.selectedObj,i={project:e.$dropdown.data("project"),fullname:e.$dropdown.data("fullname")};e.reportSelection({query:o.id,el:r,e:n,data:i})},text:function(e){return e.name}})}}class S extends h{constructor(e){let{mediator:t}=e;super(t),this.config={key:"metrics-dashboard-yaml",name:".metrics-dashboard.yml",pattern:/(.metrics-dashboard.yml)/,type:"metrics_dashboard_ymls",dropdown:".js-metrics-dashboard-selector",wrapper:".js-metrics-dashboard-selector-wrap"}}initDropdown(){var e=this;Object(f.a)(this.$dropdown,{data:this.$dropdown.data("data"),filterable:!0,selectable:!0,search:{fields:["name"]},clicked:function(t){return e.reportSelectionName(t)},text:function(e){return e.name}})}}class v{constructor(e){let{editor:t,currentAction:n,projectId:r}=e;this.editor=t,this.currentAction=n,this.projectId=r,this.initTemplateSelectors(),this.initTemplateTypeSelector(),this.initDomElements(),this.initDropdowns(),this.initPageEvents(),this.cacheFileContents()}initTemplateSelectors(){var e=this;this.templateSelectors=[b,m,S,w,y].map((function(t){return new t({mediator:e})}))}initTemplateTypeSelector(){this.typeSelector=new g({mediator:this,dropdownData:this.templateSelectors.map((function(e){const t=e.config;return{name:t.name,key:t.key,id:t.key}}))})}initDomElements(){const e=o()(".template-selectors-menu"),t=e.find(".template-selectors-undo-menu"),n=o()(".file-editor");this.$templatesMenu=e,this.$undoMenu=t,this.$undoBtn=t.find("button"),this.$templateSelectors=e.find(".template-selector-dropdowns-wrap"),this.$filenameInput=n.find(".js-file-path-name-input"),this.$fileContent=n.find("#file-content"),this.$commitForm=n.find("form"),this.$navLinks=n.find(".nav-links"),this.$templateTypes=this.$templateSelectors.find(".template-type-selector")}initDropdowns(){"create"===this.currentAction?this.typeSelector.show():this.hideTemplateSelectorMenu(),this.displayMatchedTemplateSelector()}initPageEvents(){this.listenForFilenameInput(),this.listenForPreviewMode()}listenForFilenameInput(){var e=this;this.$filenameInput.on("keyup blur",(function(){e.displayMatchedTemplateSelector()}))}listenForPreviewMode(){var e=this;this.$navLinks.on("click","a",(function(t){const n=t.target.href.split("#")[1];"preview"===n?e.hideTemplateSelectorMenu():"editor"!==n||e.typeSelector.isHidden()||e.showTemplateSelectorMenu()}))}selectTemplateType(e,t){t&&t.preventDefault(),this.templateSelectors.forEach((function(t){t.config.key===e.key?t.show():t.hide()})),this.setTypeSelectorToggleText(e.name),this.cacheToggleText()}selectTemplateTypeOptions(e){this.selectTemplateType(e.selectedObj,e.e)}selectTemplateFile(e,t,n){var r=this;const o=this,{name:i}=e.config,c=document.querySelector(".js-suggest-gitlab-ci-yml-commit-changes");e.renderLoading(),this.fetchFileTemplate(e.config.type,t,n).then((function(n){r.setEditorContent(n),r.setFilename(i),e.renderLoaded(),r.typeSelector.setToggleText(i),Object(u.a)(Object(a.a)("".concat(t," template applied")),{action:{text:Object(a.a)("Undo"),onClick:function(e,t){o.restoreFromCache(),t.goAway(0)}}}),c&&Object(p.a)(c)})).catch((function(e){return new s.c("An error occurred while fetching the template: ".concat(e))}))}displayMatchedTemplateSelector(){var e=this;const t=this.getFilename();this.templateSelectors.forEach((function(n){n.config.pattern.test(t)&&(e.typeSelector.show(),e.selectTemplateType(n.config),e.showTemplateSelectorMenu())}))}fetchFileTemplate(e,t){var n=this;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(o){d.a.projectTemplate(n.projectId,e,t,r,(function(e){return o(e)}))}))}setEditorContent(e){if(!e&&""!==e)return;const t=e.content||e;this.editor.setValue(t,1),this.editor.focus(),this.editor.navigateFileStart()}findTemplateSelectorByKey(e){return this.templateSelectors.find((function(t){return t.config.key===e}))}hideTemplateSelectorMenu(){this.$templatesMenu.hide()}showTemplateSelectorMenu(){this.$templatesMenu.show()}cacheToggleText(){this.cachedToggleText=this.getTemplateSelectorToggleText()}cacheFileContents(){this.cachedContent=this.editor.getValue(),this.cachedFilename=this.getFilename()}restoreFromCache(){this.setEditorContent(this.cachedContent),this.setFilename(this.cachedFilename),this.setTemplateSelectorToggleText(),this.setTypeSelectorToggleText(Object(a.a)("Select a template type"))}getTemplateSelectorToggleText(){return this.$templateSelectors.find(".js-template-selector-wrap:visible .dropdown-toggle-text").text()}setTemplateSelectorToggleText(){return this.$templateSelectors.find(".js-template-selector-wrap:visible .dropdown-toggle-text").text(this.cachedToggleText)}getTypeSelectorToggleText(){return this.typeSelector.getToggleText()}setTypeSelectorToggleText(e){this.typeSelector.setToggleText(e)}getFilename(){return this.$filenameInput.val()}setFilename(e){this.$filenameInput.val(e).trigger("change")}getSelected(){return this.templateSelectors.find((function(e){return e.selected}))}}var x=n("tXF7"),T=n("MeWm"),j=n("MCZX"),O=n("8p9U");class $ extends O.a{navigateFileStart(){this.setPosition(new j.Position(1,1))}}var k=n("0AwG");class E{constructor(e){var t=this;this.options=e,this.configureMonacoEditor(),this.options.isMarkdown&&n.e(420).then(n.bind(null,"Y2Zr")).then((function(){let{EditorMarkdownExtension:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.editor.use(new e),Object(x.a)(t.editor)})).catch((function(e){return Object(s.c)("".concat(c,": ").concat(e))})),this.initModePanesAndLinks(),this.initFileSelectors(),this.initSoftWrap(),this.editor.focus()}configureMonacoEditor(){var e=this;const t=document.getElementById("editor"),n=document.getElementById("file_path")||document.getElementById("file_name"),r=document.getElementById("file-content"),o=document.querySelector(".js-edit-blob-form"),i=new T.default;this.editor=i.createInstance({el:t,blobPath:n.value,blobContent:t.innerText}),this.editor.use(new $),n.addEventListener("change",(function(){e.editor.updateModelLanguage(n.value)})),o.addEventListener("submit",(function(){r.value=Object(k.m)(e.editor.getValue())}))}initFileSelectors(){const{currentAction:e,projectId:t}=this.options;this.fileTemplateMediator=new v({currentAction:e,editor:this.editor,projectId:t})}initModePanesAndLinks(){var e=this;this.$editModePanes=o()(".js-edit-mode-pane"),this.$editModeLinks=o()(".js-edit-mode a"),this.$editModeLinks.on("click",(function(t){return e.editModeLinkClickHandler(t)}))}editModeLinkClickHandler(e){e.preventDefault();const t=o()(e.target),n=t.attr("href"),r=this.$editModePanes.filter(n);return this.$editModeLinks.parent().removeClass("active hover"),t.parent().addClass("active hover"),this.$editModePanes.hide(),r.fadeIn(200),"#preview"===n&&(this.$toggleButton.hide(),i.a.post(t.data("previewUrl"),{content:this.editor.getValue()}).then((function(e){let{data:t}=e;r.empty().append(t),r.renderGFM()})).catch((function(){return Object(s.c)(l)}))),this.$toggleButton.show(),this.editor.focus()}initSoftWrap(){var e=this;this.isSoftWrapped=!0,this.$toggleButton=o()(".soft-wrap-toggle"),this.$toggleButton.toggleClass("soft-wrap-active",this.isSoftWrapped),this.$toggleButton.on("click",(function(){return e.toggleSoftWrap()}))}toggleSoftWrap(){this.isSoftWrapped=!this.isSoftWrapped,this.$toggleButton.toggleClass("soft-wrap-active",this.isSoftWrapped),this.editor.updateOptions({wordWrap:this.isSoftWrapped?"on":"off"})}}},MeWm:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));n("EWC9"),n("jaBk"),n("QifN"),n("S26F"),n("pBsb"),n("+xeR"),n("orcL");var r=n("MCZX"),o=n("Nqrb"),i=n("sWgE"),s=n("FLj1"),a=n("WXKx"),c=n("3twG"),l=n("rsHh"),d=n("cm1E"),u=n("sigb");function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.instances=[],this.options=f(f({extraEditorClassName:"gl-editor-lite"},s.b),e),m.setupMonacoTheme(),Object(a.j)(...i.a)}static setupMonacoTheme(){var e;const t=(null===(e=window.gon)||void 0===e?void 0:e.user_color_scheme)||o.a,n=o.b.find((function(e){return e.name===t}));n&&r.editor.defineTheme(t,n.data),r.editor.setTheme(n?t:o.a)}static updateModelLanguage(e,t){if(!t)return;const n=t.getModel(),o=".".concat(e.split(".").pop()),i=r.languages.getLanguages().find((function(e){return-1!==e.extensions.indexOf(o)})),s=i?i.id:"plaintext";r.editor.setModelLanguage(n,s)}static pushToImportsArray(e,t){e.push(n("SPxy")(t))}static loadExtensions(e){if(!e)return Promise.resolve();const t=[];return("string"==typeof e?e.split(","):e).forEach((function(e){const n=e.includes("/")?"":"editor/",r=e.replace(/^\//,"").trim();m.pushToImportsArray(t,"~/".concat(n).concat(r))})),Promise.all(t)}static mixIntoInstance(e,t){if(!t)return;const n=e.constructor.prototype!==Object.prototype?e.constructor.prototype:e;Object.getOwnPropertyNames(n).forEach((function(n){"constructor"!==n&&Object.assign(t,{[n]:e[n]})}))}createInstance(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{el:n,blobPath:o="",blobContent:i="",blobGlobalId:s=Object(u.a)()[0],extensions:a=[]}=t,h=p(t,["el","blobPath","blobContent","blobGlobalId","extensions"]);if(!n)throw new Error(d.b);Object(l.a)(n);const g=Object(c.n)(d.d,s,o),w=r.editor.createModel(i,void 0,r.Uri.file(g));r.editor.onDidCreateEditor((function(){delete n.dataset.editorLoading}));const b=r.editor.create(n,f(f({},this.options),h));return b.setModel(w),b.onDidDispose((function(){const t=e.instances.findIndex((function(e){return e===b}));e.instances.splice(t,1),w.dispose()})),b.updateModelLanguage=function(e){return m.updateModelLanguage(e,b)},b.use=function(t){return e.use(t,b)},m.loadExtensions(a,b).then((function(e){e&&e.forEach((function(e){b.use(e.default)}))})).then((function(){n.dispatchEvent(new Event("editor-ready"))})).catch((function(e){throw e})),this.instances.push(b),b}dispose(){this.instances.forEach((function(e){return e.dispose()}))}use(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=Array.isArray(e)?e:[e],r=function(e){n.forEach((function(t){m.mixIntoInstance(t,e)}))};t?r(t):this.instances.forEach((function(e){r(e)}))}}},SPxy:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="SPxy"},cm1E:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return a}));var r=n("/lV4");const o=Object(r.a)('"el" parameter is required for createInstance()'),i="gitlab",s=250,a=Object(r.a)("Editor Lite instance is required to set up an extension.")},sigb:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n("C0ry"),n("orcL");var r=n("lx39"),o=n.n(r),i=n("tzQa"),s=n.n(i),a=n("xjzK"),c=n.n(a),l=n("iPR/");function d(){let e;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=n.length?function(e){return e.reduce((function(t,n,r){let i=0;return Number.isInteger(n)?i=n:o()(n)&&(i=c()(n)),t+(e.length-r)*i}),0)}(n):Math.floor(1e15*Math.random()),new s.a(e)}function u(e){const t=[];for(let n=0;n<=3;n+=1){const n=new ArrayBuffer(4),r=new DataView(n);r.setUint32(0,e.random_int()),t.push(r.getUint8(0),r.getUint8(1),r.getUint8(2),r.getUint8(3))}return t}function p(){let{seeds:e=[],count:t=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=d(...e);return Array(t).fill(0).map((function(){return Object(l.a)({random:u(n)})}))}},tXF7:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return m}));n("GzNv"),n("S26F"),n("pBsb"),n("+xeR"),n("orcL"),n("pETN");var r=n("3a3M"),o=n.n(r),i=n("NmEs"),s=n("v+Mp");const a="[{text}](url)";function c(e,t){return"".concat(e,"\n").concat(t,"\n").concat(e)}function l(e){return{start:{row:(t=e.getSelection()).startLineNumber,column:t.startColumn},end:{row:t.endLineNumber,column:t.endColumn}};var t}function d(e){let t,n,r,o,{textArea:s,text:d,tag:u,cursorOffset:p,blockTag:h,selected:f="",wrap:g,select:m,editor:w}=e,b=!1,y=!1,S=!1;if(f=f.toString(),w){const e=l(w);t=e.start,n=e.end}if(u===a&&URL)try{new URL(f),u="[text]({text})",m="text"}catch(e){}0===f.indexOf("\n")&&(y=!0,f=f.replace(/\n+/,"")),s?s.selectionEnd-s.selectionStart>f.replace(/\n$/,"").length&&(b=!0,f=f.replace(/\n$/,"")):w&&t.row!==n.row&&(b=!0,f=f.replace(/\n$/,""));const v=f.split("\n");w&&!g?(r=w.getValue().split("\n")[t.row],/^\s*$/.test(r)&&(S=!0)):s&&!g&&(r=s.value.substr(0,s.selectionStart).lastIndexOf("\n"),/^\s*$/.test(s.value.substring(r,s.selectionStart))&&(S=!0));const x=s&&0===s.selectionStart||w&&0===t.column&&0===t.row,T=g||S||x?"":"\n";return o=v.length>1&&(!g||null!=h&&""!==h)?null!=h&&""!==h?w?function(e,t,n,r){const o=e.split("\n"),i=l(r);if(o[i.start.row-1]===t&&o[i.end.row+1]===t){if(null!==t){const e=o[i.end.row+1],t=new Range(o[i.start.row-1],0,i.end.row+1,e.length);r.getSelection().setSelectionRange(t)}return n}return c(t,n)}(d,h,f,w):function(e,t,n,r){return function(e,t){const n=e.substring(0,t.selectionStart).trim().split("\n");return n[n.length-1]}(e,t)===n&&function(e,t){return e.substring(t.selectionEnd).trim().split("\n")[0]}(e,t)===n?(null!=n&&(t.selectionStart=t.selectionStart-(n.length+1),t.selectionEnd=t.selectionEnd+(n.length+1)),r):c(n,r)}(d,s,h,f):v.map((function(e){return u.indexOf("{text}")>-1?u.replace("{text}",e):0===e.indexOf(u)?String(e.replace(u,"")):String(u)+e})).join("\n"):u.indexOf("{text}")>-1?u.replace("{text}",f):String(T)+u+f+(g?u:""),y&&(o="\n".concat(o)),b&&(o+="\n"),w?w.replaceSelectedText(o,m):Object(i.v)(s,o),function(e){let t,{textArea:n,tag:r,cursorOffset:o,positionBetweenTags:i,removedLastNewLine:s,select:a,editor:c,editorSelectionStart:l,editorSelectionEnd:d}=e;if(!n||n.setSelectionRange){if(a&&a.length>0){if(n){const e=n.selectionStart-(r.length-r.indexOf(a)),t=e+a.length;return n.setSelectionRange(e,t)}if(c)return void c.selectWithinSelection(a,r)}if(n){if(n.selectionStart===n.selectionEnd)return t=i?n.selectionStart-r.length:n.selectionStart,s&&(t-=1),o&&(t-=o),n.setSelectionRange(t,t)}else c&&l.row===d.row&&i&&c.moveCursor(-1*r.length)}}({textArea:s,tag:u.replace("{text}",f),cursorOffset:p,positionBetweenTags:g&&0===f.length,removedLastNewLine:b,select:m,editor:w,editorSelectionStart:t,editorSelectionEnd:n})}function u(e){let{textArea:t,tag:n,cursorOffset:r,blockTag:i,wrap:s,select:a,tagContent:c}=e;const l=o()(t);t=l.get(0);const u=l.val(),p=function(e,t){return e.substring(t.selectionStart,t.selectionEnd)}(u,t)||c;return l.focus(),d({textArea:t,text:u,tag:n,cursorOffset:r,blockTag:i,selected:p,wrap:s,select:a})}function p(e){if(this.selectionStart===this.selectionEnd)return;const t={"*":"**{text}**",_:"_{text}_","`":"`{text}`","'":"'{text}'",'"':'"{text}"',"[":"[{text}]","{":"{{text}}","(":"({text})","<":"<{text}>"}[e.key];t&&(e.preventDefault(),u({tag:t,textArea:this,blockTag:"",wrap:!0,select:"",tagContent:""}))}function h(e){return u({textArea:e.closest(".md-area").find("textarea"),tag:e.data("mdTag"),cursorOffset:e.data("mdCursorOffset"),blockTag:e.data("mdBlock"),wrap:!e.data("mdPrepend"),select:e.data("mdSelect"),tagContent:e.data("mdTagContent")})}function f(e){return o()(".markdown-area",e).on("keydown",p).each((function(){s.default.initMarkdownEditorShortcuts(o()(this),h)})),o()(".js-md",e).off("click").on("click",(function(){return h(o()(this))}))}function g(e){o()(".js-md").off("click").on("click",(function(t){const{mdTag:n,mdBlock:r,mdPrepend:i,mdSelect:s}=o()(t.currentTarget).data();d({tag:n,blockTag:r,wrap:!i,select:s,selected:e.getSelectedText(),text:e.getValue(),editor:e}),e.focus()}))}function m(e){return o()(".markdown-area",e).off("keydown",p).each((function(){s.default.removeMarkdownEditorShortcuts(o()(this))})),o()(".js-md",e).off("click")}},udiD:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("orcL");var r=n("jB52"),o=n("yWhq");r.default.use(o.a);const i=new r.default;function s(){return i.$toast.show(...arguments)}}}]);
//# sourceMappingURL=407.8aa5c57e.chunk.js.map