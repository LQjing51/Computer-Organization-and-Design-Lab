(this.webpackJsonp=this.webpackJsonp||[]).push([[409],{FkSe:function(e,t,r){"use strict";var n=r("Pyw5"),s=["sm","md","lg","xl"],i={dark:"dark",light:"light"};const a={props:{label:{type:String,required:!1,default:"Loading"},size:{type:String,required:!1,default:"sm",validator:function(e){return-1!==s.indexOf(e)}},color:{type:String,required:!1,default:i.dark,validator:function(e){return Object.keys(i).includes(e)}},inline:{type:Boolean,required:!1,default:!1}},computed:{rootElementType:function(){return this.inline?"span":"div"},cssClasses:function(){return["gl-spinner","".concat("gl-spinner","-").concat(i[this.color]),"".concat("gl-spinner","-").concat(this.size)]}}};const c=r.n(n)()({render:function(){var e=this.$createElement,t=this._self._c||e;return t(this.rootElementType,{tag:"component",staticClass:"gl-spinner-container"},[t("span",{staticClass:"align-text-bottom",class:this.cssClasses,attrs:{"aria-label":this.label}})])},staticRenderFns:[]},void 0,a,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=c},FqZL:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c}));r("G3fq");var n=r("0AwG"),s=r("FxFN");const i=7;function a(e){const t="string"==typeof e?Object(s.b)(e):e;return"bg".concat(t%i+1)}function c(e){return Object(n.i)(e)||" "}},FxFN:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return s}));r("S26F");const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return parseInt("".concat(e).replace(/gid:\/\/gitlab\/.*\//g,""),10)||null},s={Append:"APPEND",Remove:"REMOVE",Replace:"REPLACE"}},KZHv:function(e,t,r){"use strict";r.r(t);var n=r("yi8e"),s=r("FkSe"),i=r("n7CP"),a=r("N79w"),c=r("pRET"),o=r("Tzzi"),l=(r("TZoF"),r("Tmea")),u=r.n(l),p=r("s1D3");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={props:{namespace:{type:String,required:!0}},methods:{getTranslations(e){var t=this;return e.reduce((function(e,r){return m(m({},e),{},{[r]:c.d[t.namespace][r]})}),{})}}},y=r("4ZIW");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const v=y.a.mixin();var j={components:{GlIcon:p.a},mixins:[f,v],data:()=>({searchQuery:""}),computed:g(g({},Object(n.f)(["dropdownType"])),{},{translations(){return this.getTranslations(["searchInputPlaceholder"])}}),watch:{searchQuery:u()((function(){this.track("type_search_query",{label:"".concat(this.dropdownType,"_dropdown_frequent_items_search_input")}),this.setSearchQuery(this.searchQuery)}),500)},mounted(){a.a.$on("".concat(this.namespace,"-dropdownOpen"),this.setFocus)},beforeDestroy(){a.a.$off("".concat(this.namespace,"-dropdownOpen"),this.setFocus)},methods:g(g({},Object(n.c)(["setSearchQuery"])),{},{setFocus(){this.$refs.search.focus()}})},w=r("tBpV"),q=Object(w.a)(j,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search-input-container d-none d-sm-block"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],ref:"search",staticClass:"form-control",attrs:{placeholder:e.translations.searchInputPlaceholder,type:"search"},domProps:{value:e.searchQuery},on:{input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}}),e._v(" "),e.searchQuery?e._e():r("gl-icon",{staticClass:"search-icon",attrs:{name:"search"}})],1)}),[],!1,null,null,null).exports,_=r("nBaz"),P=(r("GzNv"),r("QifN"),r("l9AF"),r("pBsb"),r("PxiM")),I=r.n(P),S=r("D+x4");var E=r("0AwG");function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const N=y.a.mixin();var D={components:{Identicon:_.a},mixins:[N],props:{matcher:{type:String,required:!1},itemId:{type:Number,required:!0},itemName:{type:String,required:!0},namespace:{type:String,required:!1},webUrl:{type:String,required:!0},avatarUrl:{required:!0,validator:e=>null===e||"string"==typeof e}},computed:C(C({},Object(n.f)(["dropdownType"])),{},{truncatedNamespace(){return Object(E.s)(this.namespace)},highlightedItemName(){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"<b>",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"</b>";if(!e)return"";if(!t)return e;const s=Object(S.a)(e.toString(),{ALLOWED_TAGS:[]}),i=I.a.match(s,t.toString());return s.split("").map((function(e,t){return i.includes(t)?"".concat(r).concat(e).concat(n):e})).join("")}(this.itemName,this.matcher)}})},k={components:{FrequentItemsListItem:Object(w.a)(D,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"frequent-items-list-item-container"},[r("a",{staticClass:"clearfix",attrs:{href:e.webUrl},on:{click:function(t){return e.track("click_link",{label:e.dropdownType+"_dropdown_frequent_items_list_item"})}}},[r("div",{ref:"frequentItemsItemAvatarContainer",staticClass:"frequent-items-item-avatar-container avatar-container rect-avatar s32"},[e.avatarUrl?r("img",{ref:"frequentItemsItemAvatar",staticClass:"avatar s32",attrs:{src:e.avatarUrl}}):r("identicon",{staticClass:"rect-avatar",attrs:{"entity-id":e.itemId,"entity-name":e.itemName,"size-class":"s32"}})],1),e._v(" "),r("div",{ref:"frequentItemsItemMetadataContainer",staticClass:"frequent-items-item-metadata-container"},[r("div",{ref:"frequentItemsItemTitle",staticClass:"frequent-items-item-title",attrs:{title:e.itemName},domProps:{innerHTML:e._s(e.highlightedItemName)}}),e._v(" "),e.namespace?r("div",{ref:"frequentItemsItemNamespace",staticClass:"frequent-items-item-namespace",attrs:{title:e.namespace}},[e._v("\n        "+e._s(e.truncatedNamespace)+"\n      ")]):e._e()])])])}),[],!1,null,null,null).exports},mixins:[f],props:{items:{type:Array,required:!0},hasSearchQuery:{type:Boolean,required:!0},isFetchFailed:{type:Boolean,required:!0},matcher:{type:String,required:!0}},computed:{translations(){return this.getTranslations(["itemListEmptyMessage","itemListErrorMessage","searchListEmptyMessage","searchListErrorMessage"])},isListEmpty(){return 0===this.items.length},listEmptyMessage(){return this.hasSearchQuery?this.isFetchFailed?this.translations.searchListErrorMessage:this.translations.searchListEmptyMessage:this.isFetchFailed?this.translations.itemListErrorMessage:this.translations.itemListEmptyMessage},sanitizedItems(){return this.items.map(o.c)}}};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){Q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M={components:{FrequentItemsSearchInput:q,FrequentItemsList:Object(w.a)(k,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"frequent-items-list-container"},[r("ul",{ref:"frequentItemsList",staticClass:"list-unstyled"},[e.isListEmpty?r("li",{staticClass:"section-empty",class:{"section-failure":e.isFetchFailed}},[e._v("\n      "+e._s(e.listEmptyMessage)+"\n    ")]):e._l(e.sanitizedItems,(function(t){return r("frequent-items-list-item",{key:t.id,attrs:{"item-id":t.id,"item-name":t.name,namespace:t.namespace,"web-url":t.webUrl,"avatar-url":t.avatarUrl,matcher:e.matcher}})}))],2)])}),[],!1,null,null,null).exports,GlLoadingIcon:s.a},mixins:[f],props:{currentUserName:{type:String,required:!0},currentItem:{type:Object,required:!0}},computed:T(T(T({},Object(n.f)(["searchQuery","isLoadingItems","isFetchFailed","items"])),Object(n.d)(["hasSearchQuery"])),{},{translations(){return this.getTranslations(["loadingMessage","header"])}}),created(){const{namespace:e,currentUserName:t,currentItem:r}=this,n="".concat(t,"/").concat(c.c[e]);this.setNamespace(e),this.setStorageKey(n),r.id&&this.logItemAccess(n,r),a.a.$on("".concat(this.namespace,"-dropdownOpen"),this.dropdownOpenHandler);const s=document.getElementById("nav-".concat(this.namespace,"-dropdown"));s&&s.classList.contains("show")&&this.dropdownOpenHandler()},beforeDestroy(){a.a.$off("".concat(this.namespace,"-dropdownOpen"),this.dropdownOpenHandler)},methods:T(T({},Object(n.c)(["setNamespace","setStorageKey","fetchFrequentItems"])),{},{dropdownOpenHandler(){(""===this.searchQuery||Object(o.b)())&&this.fetchFrequentItems()},logItemAccess(e,t){const r=Object(o.c)(t);if(!i.a.isLocalStorageAccessSafe())return!1;const n=localStorage.getItem(e),s=n?JSON.parse(n):[T(T({},r),{},{frequency:1})],a=s.findIndex((function(e){return e.id===r.id}));return a>-1?s[a]=Object(o.d)(s[a],r):(s.length===c.a.MAX_COUNT&&s.shift(),s.push(T(T({},r),{},{frequency:1}))),localStorage.setItem(e,JSON.stringify(s))}})},A=Object(w.a)(M,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("frequent-items-search-input",{attrs:{namespace:e.namespace}}),e._v(" "),e.isLoadingItems?r("gl-loading-icon",{staticClass:"loading-animation prepend-top-20",attrs:{label:e.translations.loadingMessage,size:"lg"}}):e._e(),e._v(" "),e.isLoadingItems||e.hasSearchQuery?e._e():r("div",{staticClass:"section-header"},[e._v("\n    "+e._s(e.translations.header)+"\n  ")]),e._v(" "),e.isLoadingItems?e._e():r("frequent-items-list",{attrs:{items:e.items,namespace:e.namespace,"has-search-query":e.hasSearchQuery,"is-fetch-failed":e.isFetchFailed,matcher:e.searchQuery}})],1)}),[],!1,null,null,null);t.default=A.exports},nBaz:function(e,t,r){"use strict";var n=r("FqZL"),s={props:{entityId:{type:[Number,String],required:!0},entityName:{type:String,required:!0},sizeClass:{type:String,required:!1,default:"s40"}},computed:{identiconBackgroundClass(){return Object(n.a)(this.entityId)},identiconTitle(){return Object(n.b)(this.entityName)}}},i=r("tBpV"),a=Object(i.a)(s,(function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"identicon",staticClass:"avatar identicon",class:[this.sizeClass,this.identiconBackgroundClass]},[this._v("\n  "+this._s(this.identiconTitle)+"\n")])}),[],!1,null,null,null);t.a=a.exports}}]);
//# sourceMappingURL=409.0098776c.chunk.js.map